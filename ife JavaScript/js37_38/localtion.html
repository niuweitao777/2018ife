<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>
<body>
<button id="a">A</button>
<button id="b">B</button>
<button id="c">C</button>

<button id="d">D</button>
<button id="e">E</button>
<button id="f">F</button>


<div id="contABC"></div>
<div id="contDEF"></div>
<script type="text/javascript">
  let buttons = document.getElementsByTagName('button')
  let contABC = document.getElementById('contABC')
  let contDEF = document.getElementById('contDEF')
  let ABC = ['A', 'B', 'C']
  let DEF = ['D', 'E', 'F']
  let arr1 = []
  let arr2 = []
  for (let i = 0; i < buttons.length; i++) {
    buttons[i].addEventListener('click', function () {
      let str = this.innerHTML

      history.pushState && history.pushState(str, null, 'localtion.html?state=' + str)
      contABC.innerHTML = str
    })

  }
  history.pushState && window.addEventListener('popstate', function (event) {
    let state = event.state
    console.log(state)
    contABC.innerHTML = state
  })

 /* if(!window.location){
    alert('location不可用')
  }else{
    for (let i = 0, len = buttons.length; i < len; i++) {
      buttons[i].addEventListener('click', function () {
        let str = this.innerHTML

       if(ABC.indexOf(str) != -1){
          arr1 = []
          arr1.push(str)
         location.hash = str
       }
       if(DEF.indexOf(str) != -1){
          arr2 = []
          arr2.push(str)
         location.hash = str
       }
        if(arr1[0] && arr2[0]){
          location.hash = arr1[0] + arr2[0]
        }

      })
    }
    window.addEventListener('hashchange', locationChange)
  }
  function change() {
    return location.hash.slice(1)
  }
  function locationChange() {

    for (var i = 0; i < buttons.length; i++) {
      let name = buttons[i].innerHTML
      if(change().indexOf(name) != -1){
        switch (name){
          case 'A':
            contABC.innerHTML = name
            break
          case 'B':
            contABC.innerHTML = name
            break
          case 'C':
            contABC.innerHTML = name
            break
          case 'D':
            contDEF.innerHTML = name
            break
          case 'E':
            contDEF.innerHTML = name
            break
          case 'F':
            contDEF.innerHTML = name
            break
        }
      }

    }
    console.log(change())
    if(!change()){
      contABC.innerHTML = ''
      contDEF.innerHTML = ''
    }
  }
  locationChange()*/
</script>
</body>
</html>